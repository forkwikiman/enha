## Contents

    

1. 개요 
2. 해결책 
3. 관련항목 

[[edit](http://rigvedawiki.net/r1/wiki.php/497%EC%9D%BC%20%EB%AC%B8%EC%A0%9C?a
ction=edit&section=1)]

## 1. 개요 ¶

일부 구형 32비트 [리눅스](%EB%A6%AC%EB%88%85%EC%8A%A4.md) 시스템에서 발생하는
[컴퓨터](%EC%BB%B4%ED%93%A8%ED%84%B0.md) [버그](%EB%B2%84%EA%B7%B8.md) 중 하나.
리눅스 컴퓨터를 497일동안 켜 놓으면, 컴퓨터가 이상 상태에 빠지거나, 오류를 감지한 운영체제가 오류를 수정하기 위해 자동으로 리부팅이
되어 버리는 현상이 발생한다.

  

리눅스 커널에는 내부 타이머 용도로 jiffies 라는 32비트 변수를 사용하는데, 이 변수는 1/100 초에 1씩 증가하도록 되어 있다.
`[1]` 이 변수는 32비트로 되어 있어서 2 32 = 약 42.9억이 최대값이다. 그런데, 100*60*60*24***497** = 약
42.9억으로, 497일이 경과하면 거의 최대값에 도달하게 된다. 컴퓨터 부팅후 정확히 497일 2시간 27분 53초에는 이 jiffies
값이 32비트 한계를 초과하여 [오버플로우](%EC%98%A4%EB%B2%84%ED%94%8C%EB%A1%9C%EC%9A%B0.md)가
발생하고 0으로 리셋된다. 이로 인해서 시스템이 오동작을 초래한다.

  

개인용 컴퓨터 사용자가 컴퓨터를 1년이 넘게 끄지 않는 일은 거의 없으므로, 일반 사용자의 경우는 문제가 발생할 일이 거의 없다. 하지만
[서버](%EC%84%9C%EB%B2%84.md)의 경우는 일년내내 끄지 않고 유지하는 경우도 많기 때문에 심각한 문제가 발생할 수
있다. 당장 은행서버가 오버플로우 되어 당신의 통장잔고가 0원이 되어버린다고 생각해보자. [이 얼마나 끔찍하고 무시무시한 일인가.](/wik
i/%EC%9D%B4%20%EC%96%BC%EB%A7%88%EB%82%98%20%EB%81%94%EC%B0%8D%ED%95%98%EA%B3%
A0%20%EB%AC%B4%EC%8B%9C%EB%AC%B4%EC%8B%9C%ED%95%9C%20%EC%83%9D%EA%B0%81%EC%9D%
B4%EB%8B%88) <del>물론 통장잔고가 -2000만 이런거면 좋은거다 하지만 만수르가 2000만이 된다면 어떨까!?</del>

  

변수의 [오버플로우](%EC%98%A4%EB%B2%84%ED%94%8C%EB%A1%9C%EC%9A%B0.md)로 인하여 발생한다는
점에서 [2038년 문제](2038%EB%85%84%20%EB%AC%B8%EC%A0%9C.md)와 상당히 유사점이 많다.

  

일부 구형 [윈도우](%EC%9C%88%EB%8F%84%EC%9A%B0.md) 시스템에도 비슷한 버그가 있었다. 단 이쪽은
1/1000초에 1씩 증가하도록 되어 있어 약 49일만에 발생한다

[[edit](http://rigvedawiki.net/r1/wiki.php/497%EC%9D%BC%20%EB%AC%B8%EC%A0%9C?a
ction=edit&section=2)]

## 2. 해결책 ¶

  * 주기적으로 컴퓨터를 리부팅한다.   
실제로 이 이유뿐만 아니라 여러 이유로 1년 또는 6개월에 1회 정도씩 서버를 리부팅하여 사용하기도 한다.<del>그러니까 게임 레벨 초기화
되고 싶지 않으면 서버 점검한다고 불평하지 말자</del>`[2]`  

  * 최신 커널로 업데이트 한다.   
최신 커널은 64비트 변수인 jiffies64를 쓰도록 수정되었다. 64비트 시스템에서 이 에러가 발생하려면 약 58억 4942만
4173년`[3]`동안 리부팅 없이 컴퓨터를 돌려야한다. <del>컴퓨터가 먼저 망가진다.</del>  

[[edit](http://rigvedawiki.net/r1/wiki.php/497%EC%9D%BC%20%EB%AC%B8%EC%A0%9C?a
ction=edit&section=3)]

## 3. 관련항목 ¶

  * [Y2K 문제](Y2K%20%EB%AC%B8%EC%A0%9C.md)
  * [2010년 문제](2010%EB%85%84%20%EB%AC%B8%EC%A0%9C.md)
  * [2038년 문제](2038%EB%85%84%20%EB%AC%B8%EC%A0%9C.md)

`\----`

  * `[1]` CONFIG_HZ 라는 상수를 수정하여 변경 가능한데, 더 큰값으로 변경하여 쓰기도 한다. 예를 들어 1000 으로 하면, 타이머가 1/1000초 단위로 동작하기에, 좀더 세밀한 타이머 조정이 가능하다. 하지만 이 경우에는 49일만에 문제가 생긴다.
  * `[2]` 사실 게임 서버는 연산량도 무지막지하고 쌓이는 데이터도 많은데다 돌아가는 서버 프로그램도 대단히 복잡하기 때문에 주기적으로 관리를 해야 된다. 497일동안 리부팅 없이 켜 둘 일이 거의 없는 편이다.
  * `[3]` 변수가 1초에 100씩 증가하니 2^64번 증가하는데 걸리는 시간. 이 정도의 시간이 경과하면 현재의 태양은 수명이 거의 다해 적색 거성으로 부풀어오르는 단계에 있게 된다.

